"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "findAvailableDate", {
    enumerable: true,
    get: function() {
        return findAvailableDate;
    }
});
const _isRestrictedDate = require("./isRestrictedDate");
const _isAfterMaxDate = require("./isAfterMaxDate");
const _isBeforeMinDate = require("./isBeforeMinDate");
const _dateMath = require("../dateMath/dateMath");
const findAvailableDate = (options)=>{
    const { targetDate, initialDate, direction, ...restrictedDateOptions } = options;
    let availableDate = targetDate;
    // if the target date is available, return it immediately
    if (!(0, _isRestrictedDate.isRestrictedDate)(targetDate, restrictedDateOptions)) {
        return targetDate;
    }
    while((0, _dateMath.compareDatePart)(initialDate, availableDate) !== 0 && (0, _isRestrictedDate.isRestrictedDate)(availableDate, restrictedDateOptions) && !(0, _isAfterMaxDate.isAfterMaxDate)(availableDate, restrictedDateOptions) && !(0, _isBeforeMinDate.isBeforeMinDate)(availableDate, restrictedDateOptions)){
        availableDate = (0, _dateMath.addDays)(availableDate, direction);
    }
    if ((0, _dateMath.compareDatePart)(initialDate, availableDate) !== 0 && !(0, _isRestrictedDate.isRestrictedDate)(availableDate, restrictedDateOptions)) {
        return availableDate;
    }
    return undefined;
};
