{"version":3,"sources":["VirtualizerContext.ts"],"sourcesContent":["import * as React from 'react';\nimport type { DynamicVirtualizerContextProps, VirtualizerContextProps } from './types';\nimport { useMemo, useState, useRef } from 'react';\n\nconst VirtualizerContext = React.createContext<VirtualizerContextProps | undefined>(\n  undefined,\n) as React.Context<VirtualizerContextProps>;\n\nexport const VirtualizerContextProvider = VirtualizerContext.Provider;\n\nexport const useVirtualizerContext_unstable = () => {\n  return React.useContext(VirtualizerContext);\n};\n\nexport const useVirtualizerContextState_unstable = (\n  passedContext?: VirtualizerContextProps,\n): DynamicVirtualizerContextProps => {\n  const virtualizerContext = useVirtualizerContext_unstable();\n  const [_contextIndex, _setContextIndex] = useState<number>(-1);\n  const [_contextPosition, _setContextPosition] = useState<number>(0);\n  const childProgressiveSizes = useRef<number[]>([]);\n\n  /* We respect any wrapped providers while also ensuring defaults or passed through\n   * Order of usage -> Passed Prop -> Provider Context -> Internal State default\n   */\n  const context = useMemo(\n    () => ({\n      contextIndex: passedContext?.contextIndex ?? virtualizerContext?.contextIndex ?? _contextIndex,\n      setContextIndex: passedContext?.setContextIndex ?? virtualizerContext?.setContextIndex ?? _setContextIndex,\n      contextPosition: passedContext?.contextPosition ?? virtualizerContext?.contextPosition ?? _contextPosition,\n      setContextPosition:\n        passedContext?.setContextPosition ?? virtualizerContext?.setContextPosition ?? _setContextPosition,\n      childProgressiveSizes,\n    }),\n    [_contextIndex, _contextPosition, passedContext, virtualizerContext],\n  );\n\n  return context;\n};\n"],"names":["React","useMemo","useState","useRef","VirtualizerContext","createContext","undefined","VirtualizerContextProvider","Provider","useVirtualizerContext_unstable","useContext","useVirtualizerContextState_unstable","passedContext","virtualizerContext","_contextIndex","_setContextIndex","_contextPosition","_setContextPosition","childProgressiveSizes","context","contextIndex","setContextIndex","contextPosition","setContextPosition"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"AAAA,YAAYA,WAAW,QAAQ;AAE/B,SAASC,OAAO,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,QAAQ;AAElD,MAAMC,qBAAqBJ,MAAMK,aAAa,CAC5CC;AAGF,OAAO,MAAMC,6BAA6BH,mBAAmBI,QAAQ,CAAC;AAEtE,OAAO,MAAMC,iCAAiC;IAC5C,OAAOT,MAAMU,UAAU,CAACN;AAC1B,EAAE;AAEF,OAAO,MAAMO,sCAAsC,CACjDC;IAEA,MAAMC,qBAAqBJ;IAC3B,MAAM,CAACK,eAAeC,iBAAiB,GAAGb,SAAiB,CAAC;IAC5D,MAAM,CAACc,kBAAkBC,oBAAoB,GAAGf,SAAiB;IACjE,MAAMgB,wBAAwBf,OAAiB,EAAE;IAEjD;;GAEC,GACD,MAAMgB,UAAUlB,QACd;YACgBW,6BAAAA,MACGA,gCAAAA,OACAA,gCAAAA,OAEfA,mCAAAA;eALG;YACLQ,cAAcR,CAAAA,OAAAA,CAAAA,8BAAAA,0BAAAA,oCAAAA,cAAeQ,YAAY,cAA3BR,yCAAAA,8BAA+BC,+BAAAA,yCAAAA,mBAAoBO,YAAY,cAA/DR,kBAAAA,OAAmEE;YACjFO,iBAAiBT,CAAAA,QAAAA,CAAAA,iCAAAA,0BAAAA,oCAAAA,cAAeS,eAAe,cAA9BT,4CAAAA,iCAAkCC,+BAAAA,yCAAAA,mBAAoBQ,eAAe,cAArET,mBAAAA,QAAyEG;YAC1FO,iBAAiBV,CAAAA,QAAAA,CAAAA,iCAAAA,0BAAAA,oCAAAA,cAAeU,eAAe,cAA9BV,4CAAAA,iCAAkCC,+BAAAA,yCAAAA,mBAAoBS,eAAe,cAArEV,mBAAAA,QAAyEI;YAC1FO,oBACEX,CAAAA,QAAAA,CAAAA,oCAAAA,0BAAAA,oCAAAA,cAAeW,kBAAkB,cAAjCX,+CAAAA,oCAAqCC,+BAAAA,yCAAAA,mBAAoBU,kBAAkB,cAA3EX,mBAAAA,QAA+EK;YACjFC;QACF;IAAA,GACA;QAACJ;QAAeE;QAAkBJ;QAAeC;KAAmB;IAGtE,OAAOM;AACT,EAAE"}