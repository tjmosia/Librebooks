{"version":3,"sources":["VirtualizerContext.ts"],"sourcesContent":["import * as React from 'react';\nimport type { DynamicVirtualizerContextProps, VirtualizerContextProps } from './types';\nimport { useMemo, useState, useRef } from 'react';\n\nconst VirtualizerContext = React.createContext<VirtualizerContextProps | undefined>(\n  undefined,\n) as React.Context<VirtualizerContextProps>;\n\nexport const VirtualizerContextProvider = VirtualizerContext.Provider;\n\nexport const useVirtualizerContext_unstable = () => {\n  return React.useContext(VirtualizerContext);\n};\n\nexport const useVirtualizerContextState_unstable = (\n  passedContext?: VirtualizerContextProps,\n): DynamicVirtualizerContextProps => {\n  const virtualizerContext = useVirtualizerContext_unstable();\n  const [_contextIndex, _setContextIndex] = useState<number>(-1);\n  const [_contextPosition, _setContextPosition] = useState<number>(0);\n  const childProgressiveSizes = useRef<number[]>([]);\n\n  /* We respect any wrapped providers while also ensuring defaults or passed through\n   * Order of usage -> Passed Prop -> Provider Context -> Internal State default\n   */\n  const context = useMemo(\n    () => ({\n      contextIndex: passedContext?.contextIndex ?? virtualizerContext?.contextIndex ?? _contextIndex,\n      setContextIndex: passedContext?.setContextIndex ?? virtualizerContext?.setContextIndex ?? _setContextIndex,\n      contextPosition: passedContext?.contextPosition ?? virtualizerContext?.contextPosition ?? _contextPosition,\n      setContextPosition:\n        passedContext?.setContextPosition ?? virtualizerContext?.setContextPosition ?? _setContextPosition,\n      childProgressiveSizes,\n    }),\n    [_contextIndex, _contextPosition, passedContext, virtualizerContext],\n  );\n\n  return context;\n};\n"],"names":["VirtualizerContextProvider","useVirtualizerContextState_unstable","useVirtualizerContext_unstable","VirtualizerContext","React","createContext","undefined","Provider","useContext","passedContext","virtualizerContext","_contextIndex","_setContextIndex","useState","_contextPosition","_setContextPosition","childProgressiveSizes","useRef","context","useMemo","contextIndex","setContextIndex","contextPosition","setContextPosition"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAQaA,0BAAAA;eAAAA;;IAMAC,mCAAAA;eAAAA;;IAJAC,8BAAAA;eAAAA;;;;iEAVU;AAIvB,MAAMC,mCAAqBC,OAAMC,aAAa,CAC5CC;AAGK,MAAMN,6BAA6BG,mBAAmBI,QAAQ;AAE9D,MAAML,iCAAiC;IAC5C,OAAOE,OAAMI,UAAU,CAACL;AAC1B;AAEO,MAAMF,sCAAsC,CACjDQ;IAEA,MAAMC,qBAAqBR;IAC3B,MAAM,CAACS,eAAeC,iBAAiB,GAAGC,IAAAA,eAAAA,EAAiB,CAAC;IAC5D,MAAM,CAACC,kBAAkBC,oBAAoB,GAAGF,IAAAA,eAAAA,EAAiB;IACjE,MAAMG,wBAAwBC,IAAAA,aAAAA,EAAiB,EAAE;IAEjD;;GAEC,GACD,MAAMC,UAAUC,IAAAA,cAAAA,EACd;YACgBV,6BAAAA,MACGA,gCAAAA,OACAA,gCAAAA,OAEfA,mCAAAA;eALG;YACLW,cAAcX,CAAAA,OAAAA,CAAAA,8BAAAA,kBAAAA,QAAAA,kBAAAA,KAAAA,IAAAA,KAAAA,IAAAA,cAAeW,YAAY,AAAZA,MAAY,QAA3BX,gCAAAA,KAAAA,IAAAA,8BAA+BC,uBAAAA,QAAAA,uBAAAA,KAAAA,IAAAA,KAAAA,IAAAA,mBAAoBU,YAAY,AAAZA,MAAY,QAA/DX,SAAAA,KAAAA,IAAAA,OAAmEE;YACjFU,iBAAiBZ,CAAAA,QAAAA,CAAAA,iCAAAA,kBAAAA,QAAAA,kBAAAA,KAAAA,IAAAA,KAAAA,IAAAA,cAAeY,eAAe,AAAfA,MAAe,QAA9BZ,mCAAAA,KAAAA,IAAAA,iCAAkCC,uBAAAA,QAAAA,uBAAAA,KAAAA,IAAAA,KAAAA,IAAAA,mBAAoBW,eAAe,AAAfA,MAAe,QAArEZ,UAAAA,KAAAA,IAAAA,QAAyEG;YAC1FU,iBAAiBb,CAAAA,QAAAA,CAAAA,iCAAAA,kBAAAA,QAAAA,kBAAAA,KAAAA,IAAAA,KAAAA,IAAAA,cAAea,eAAe,AAAfA,MAAe,QAA9Bb,mCAAAA,KAAAA,IAAAA,iCAAkCC,uBAAAA,QAAAA,uBAAAA,KAAAA,IAAAA,KAAAA,IAAAA,mBAAoBY,eAAe,AAAfA,MAAe,QAArEb,UAAAA,KAAAA,IAAAA,QAAyEK;YAC1FS,oBACEd,CAAAA,QAAAA,CAAAA,oCAAAA,kBAAAA,QAAAA,kBAAAA,KAAAA,IAAAA,KAAAA,IAAAA,cAAec,kBAAkB,AAAlBA,MAAkB,QAAjCd,sCAAAA,KAAAA,IAAAA,oCAAqCC,uBAAAA,QAAAA,uBAAAA,KAAAA,IAAAA,KAAAA,IAAAA,mBAAoBa,kBAAkB,AAAlBA,MAAkB,QAA3Ed,UAAAA,KAAAA,IAAAA,QAA+EM;YACjFC;QACF;IAAA,GACA;QAACL;QAAeG;QAAkBL;QAAeC;KAAmB;IAGtE,OAAOQ;AACT"}